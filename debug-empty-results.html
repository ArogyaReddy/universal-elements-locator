<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Empty Results</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            padding: 20px; 
            line-height: 1.6;
        }
        .test-section { 
            margin: 20px 0; 
            padding: 15px; 
            border: 2px solid #007acc; 
            background: #f0f8ff;
            border-radius: 8px;
        }
        .test-button {
            background: #007acc;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        .test-input {
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            margin: 5px;
        }
    </style>
</head>
<body>
    <h1 id="main-heading">Debug Empty Results Test Page</h1>
    
    <div class="test-section">
        <h2>Simple Test Elements</h2>
        <p>These elements should always have data when scanned:</p>
        
        <button id="test-button-1" class="test-button" data-testid="primary-button">
            Primary Test Button
        </button>
        
        <input 
            type="text" 
            id="test-input-1" 
            class="test-input" 
            placeholder="Test input field"
            name="test-field"
            data-testid="primary-input"
        >
        
        <div id="test-div-1" class="content-div" data-role="content">
            This is a test div with meaningful content.
        </div>
        
        <a href="#" id="test-link-1" class="test-link" data-testid="primary-link">
            Test Link Text
        </a>
        
        <span id="test-span-1" class="highlight" data-label="important">
            Important span content
        </span>
    </div>
    
    <div class="test-section">
        <h2>Debug Information</h2>
        <p>When you scan this page:</p>
        <ol>
            <li><strong>Expected elements:</strong> At least 5-10 visible elements</li>
            <li><strong>Expected data per element:</strong>
                <ul>
                    <li>Attributes (id, class, data-* attributes)</li>
                    <li>Context (parent info, position)</li>
                    <li>State (interactive, form element, etc.)</li>
                    <li>Primary locators (ID, data-testid)</li>
                    <li>Secondary locators (class, name, type)</li>
                    <li>Fallback locators (tagName, position)</li>
                    <li>Position & size information</li>
                    <li>Styling information</li>
                </ul>
            </li>
            <li><strong>Text content:</strong> Should show actual text like "Primary Test Button"</li>
        </ol>
    </div>

    <div class="test-section">
        <h2>Debugging Steps</h2>
        <ol>
            <li>Open browser console (F12)</li>
            <li>Scan this page with the extension</li>
            <li>Check console for content script logs</li>
            <li>Look for scan results in the detailed view</li>
            <li>If data is missing, check the logs for errors</li>
        </ol>
    </div>

    <script>
        // Add some debugging info to console
        console.log('üîç Debug page loaded');
        console.log('üîç Total elements on page:', document.querySelectorAll('*').length);
        console.log('üîç Visible elements with IDs:', document.querySelectorAll('[id]').length);
        console.log('üîç Elements with data attributes:', document.querySelectorAll('[data-testid], [data-role], [data-label]').length);
        
        // Log when content script injection occurs
        let scriptInjectionCount = 0;
        const originalInnerHTML = document.documentElement.innerHTML;
        
        // Monitor for content script injection
        setTimeout(() => {
            if (window.universalLocatorInjected) {
                console.log('‚úÖ Content script successfully injected');
            } else {
                console.log('‚ùå Content script not detected');
            }
        }, 1000);
    </script>
</body>
</html>
