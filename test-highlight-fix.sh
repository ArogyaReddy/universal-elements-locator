#!/bin/bash

echo "ğŸ”„ Testing Highlighting Fix"
echo "==========================="

echo ""
echo "Test Steps:"
echo "==========="
echo "1. ğŸŒ Chrome should be opening with the debug page"
echo "2. ğŸ”§ Open Chrome DevTools (F12) and go to Console tab"
echo "3. ğŸ¯ Use the extension popup to scan the page elements"
echo "4. ğŸ§ª Test the contextual selector: #user-1-container [data-testid=\"action-menu-button\"]"
echo "5. ğŸ¯ Click the Test button next to this selector in the popup"
echo "6. ğŸ’¡ Manual test: Enter the selector in the 'Manual Highlight' field and click Highlight"
echo ""

echo "Expected Results:"
echo "=================="
echo "âœ… Console should show detailed debugging messages"
echo "âœ… The first 'Action Menu 1' button should be highlighted with red border"
echo "âœ… Console should show: 'ğŸ¯ HIGHLIGHT REQUEST RECEIVED'"
echo "âœ… Console should show: 'âœ… Successfully highlighted 1 elements'"
echo "âœ… The button should have visible red border and yellow background"
echo ""

echo "Debugging Commands to run in Console:"
echo "====================================="
echo ""
echo "// Test 1: Check if content script is loaded"
echo "console.log('Content script loaded:', typeof window.universalLocatorInjected !== 'undefined');"
echo ""
echo "// Test 2: Check selector manually"
echo "document.querySelectorAll('#user-1-container [data-testid=\"action-menu-button\"]').length"
echo ""
echo "// Test 3: Run our debug script"
echo "// Copy and paste the content of debug-script.js"
echo ""

echo "ğŸ¯ Focus: The button in 'User 1 Container' should highlight, not the others"
echo "ğŸ” If highlighting still doesn't work, check console for error messages"
